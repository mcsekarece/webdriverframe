package com.nexia.selenium.testscripts.section.portability;

import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import org.testng.Assert;
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;

import com.nexia.selenium.genericlibrary.demographics.AbstractHomeTest;
import com.nexia.selenium.genericlibrary.demographics.HomeLib;
import com.thoughtworks.selenium.Selenium;



public class PortPatientDataCA106_129 extends AbstractHomeTest {

	boolean CreatePatient = false;


	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient106(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_106";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}		
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient107(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_107";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}		
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient108(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_108";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient109(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_109";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient110(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_110";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient111(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_111";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient112(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_112";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient113(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_113";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient114(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_114";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient115(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_115";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient116(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_116";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient117(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_117";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient118(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_118";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient119(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_119";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient120(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_120";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient121(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_121";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient122(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_122";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient123(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_123";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient124(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_124";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient125(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_125";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient126(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_126";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient127(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_127";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient128(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_128";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient129(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_129";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	

	//--
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient132(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_132";
		patientcaData.fetchHomeTestData();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient133(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_133";
		patientcaData.fetchHomeTestData();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient134(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_134";
		patientcaData.fetchHomeTestData();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	
	@Test(groups = {"RegressionCA","Approved","firefox", "iexplore", "safari", "default" }, description = "Adding New Patient If Required")
	@Parameters( { "seleniumHost", "seleniumPort", "browser", "webSite", "userAccount"})
	public void createNewpatient135(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount)throws Exception {
		HomeLib patientcaData = new HomeLib();
		patientcaData.workSheetName = "PatientDataCAView";
		patientcaData.testCaseId = "TC_NPC_135";
		patientcaData.fetchHomeTestData();
		ClassName=this.getClass().getName().substring(39);	
		MethodName= Thread.currentThread().getStackTrace()[1].getMethodName();
		checkPatient(seleniumHost, seleniumPort, browser, webSite, userAccount, patientcaData);
	}	




	public boolean checkPatient(String seleniumHost, int seleniumPort,String browser, String webSite, String userAccount, HomeLib patientcaData) throws Exception{
		Selenium selenium = null;
		boolean returnValue = false;
		CreatePatient=false;

		try{

			//--------------------------------------------------------------------//
			//  Step-1: Login to the application
			//--------------------------------------------------------------------//
			selenium = getSession(seleniumHost, seleniumPort, browser, webSite);
			Assert.assertNotNull(selenium,"Could Not Retrive the New Selenium Session; More Details :" + patientcaData.toString());
			assertTrue(loginForNexiaFromPublicSite(selenium, userAccount, patientcaData.userName, patientcaData.userPassword),"Login Failed ",selenium,ClassName,MethodName);

			//--------------------------------------------------------------------//
			//  Step-2: Advanced search with Patient ID//
			//--------------------------------------------------------------------//
			CreatePatient=searchPatientNexiaForHomePage(selenium,patientcaData.lastName);
			waitForPageLoad(selenium);		

			if (CreatePatient==true)					
				createPatientCA(selenium,patientcaData);	

			else				
				System.out.println("Patient with lastname " + patientcaData.lastName + " is already created");


		}catch (RuntimeException e){
			e.printStackTrace();
			Assert.fail("Failed Due to the Exception; \n\t*) ExceptionDetails :"+e.getMessage()+"\n\t*); Detailed data:" + patientcaData.toString());
		}
		return returnValue;
	}	


	/**
	 * searchPatientNexiaForProviderHomePage
	 * function for Searching a patient in the Nexia application   
	 * @param 		selenium
	 * @param 		patientID (Patient ID to be searched)
	 * @throws IOException 

	 * @since  	    Sep 29, 2012
	 */
	public boolean searchPatientNexiaForHomePage(Selenium selenium,String lastName) throws IOException{

		boolean returnValue = false;
		assertTrue(type(selenium,txtSearchPatientBox,lastName),"Could not type patient id",selenium,ClassName,MethodName);

		selenium.keyPress(txtSearchPatientBox, "\\9");
		waitForElement(selenium,lblPatientBorderBottom,10000);
		//assertTrue(selenium.isElementPresent(lblPatientBorderBottom),"Search Results are not displayed for the patient with ID :-"+lastName);
		System.out.println(getText(selenium,lblPatientBorderBottom));
		if (!getText(selenium,lblPatientBorderBottom).contains(lastName) || !selenium.isElementPresent(lblPatientBorderBottom)){
			returnValue=true;
			System.out.println("Patient with lastName " + lastName + " Not created,  create a new one");
		}else{			
			System.out.println("Patient with lastname " + lastName + " is already created, No More Work");				
			returnValue = false;
		}
		return returnValue;
	}			
	/**
	 * createNewPatient
	 * function to create a New Patient entry
	 * @param 		seleniumHost
	 * @param 		seleniumPort
	 * @param 		browser
	 * @param 		webSite
	 * @since  	     Jan 17, 2013
	 */	


	public boolean createPatientCA(Selenium selenium, HomeLib patientcaData) throws Exception{

		boolean returnValue = false;

		try{				

			//--------------------------------------------------------------------//
			//---------------  Step-3: Navigate to system setting   --------------//
			//--------------------------------------------------------------------//	


			assertTrue(click(selenium, "searchPatientBox"),"Couldn't navigate to system settings",selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			assertTrue(click(selenium,lnkQuickActions),"Could not click on the quick action link" + patientcaData.toString(),selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			assertTrue(click(selenium,lnkShowMoreLink),"Could not click on the show more action link" + patientcaData.toString(),selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			assertTrue(click(selenium,lnkSystemSettingAction),"Could not click the systemSettings link;More Deatils:"+patientcaData.toString(),selenium,ClassName,MethodName);
			waitForPageLoad(selenium);


			//--------------------------------------------------------------------//
			//---------------  Step-4:Delete All Mandatory data   --------------//
			//--------------------------------------------------------------------//	
			assertTrue(click(selenium,"!adminMandatoryUserField"),"Could not click admin Mandatory",selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			assertTrue(deleteAllMandatory(selenium),"Could not delete all mandatory fields",selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			//--------------------------------------------------------------------//
			//---------------  Step-5: Click New Patient Check-in   --------------//
			//--------------------------------------------------------------------//

			Calendar cal=Calendar.getInstance();
			SimpleDateFormat DateFormat=new SimpleDateFormat("ddHHmm");
			String uniqueName=DateFormat.format(cal.getTime());


			click(selenium,btnBack);
			waitForPageLoad(selenium);
			assertTrue(click(selenium,"link=Quick actions"),"Could not click on the quick action link" + patientcaData .toString(),selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			assertTrue(click(selenium,"newPatientAction"),"Could not click the Register Patient;More Deatils:"+patientcaData.toString(),selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			//assertTrue(createPatientCAView(selenium,patientcaData,uniqueName),"Patient Checkin Failed");
			assertTrue(createNewPatientWithMandatoryCAView(selenium,patientcaData,uniqueName),"Patient Checkin Failed",selenium,ClassName,MethodName);
			waitForPageLoad(selenium);				
			assertTrue(waitForElement(selenium, "editButton", 10000),"Could not find the edit button",selenium,ClassName,MethodName);
			waitForPageLoad(selenium);
			if(selenium.isAlertPresent()){
				Assert.assertFalse(selenium.isAlertPresent(),"Patient not saved successfully, An unexpected Alert Occured - " + selenium.getAlert() );
			}

			if(!verifyStoredValuesinSummaryPage(selenium,patientcaData)){
				Assert.fail("Patient details are not saved properly; More Details :"+ patientcaData.toString());
				returnValue=false;
			}
			else{
				returnValue=true;
			}
			waitForPageLoad(selenium);
			click(selenium,"editButton");
			waitForPageLoad(selenium);

			//--------------------------------------------------------------------//
			//  Step-4: Verifying Entered Details are saved properly  //
			//--------------------------------------------------------------------//

			if(!verifyStoredValues(selenium,patientcaData)){
				Assert.fail("Patient details are not Create properly; More Details :"+ patientcaData.toString());
				returnValue=false;
			}
			else{
				returnValue=true;
			}

			waitForPageLoad(selenium);
			click(selenium,"saveButton");
			waitForPageLoad(selenium);				


			//assertTrue(goEncounter(selenium),"Could not click the link");
			//waitForPageLoad(selenium);

		}catch (RuntimeException e){
			e.printStackTrace();
			Assert.fail("Failed Due to the Exception; \n\t*) ExceptionDetails :"+e.getMessage()+"\n\t*); Detailed data:" + patientcaData.toString());
		}
		return returnValue;
	}

	public boolean verifyStoredValues(Selenium selenium, HomeLib patientData) {

		waitForPageLoad(selenium);
		if(!getValue(selenium,txtLastName).toLowerCase(new java.util.Locale("en","US") ).trim().contains(patientData.lastName.trim().toLowerCase(new java.util.Locale("en","US")))){
			waitForPageLoad(selenium);
			return false;
		}
		if(!getValue(selenium,txtFirstName).toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.firstName.trim().toLowerCase(new java.util.Locale("en","US")))){
			waitForPageLoad(selenium);
			return false;
		}


		if(!getValue(selenium,"dob").toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.dob.trim().toLowerCase(new java.util.Locale("en","US")))){
			waitForPageLoad(selenium);
			return false;
		}


		if(!getValue(selenium,"statusSuggestBoxsuggestBox").toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.status.trim().toLowerCase(new java.util.Locale("en","US")))){
			waitForPageLoad(selenium);
			return false;
		}

		return true;
	}



	public boolean verifyStoredValuesinSummaryPage(Selenium selenium,HomeLib patientData){
		waitForPageLoad(selenium);

		waitForPageLoad(selenium);

		if(!getText(selenium,"patientName").toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.firstName.trim().toLowerCase(new java.util.Locale("en","US")))){
			return false;
		}
		if(!getText(selenium,"patientName").toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.lastName.trim().toLowerCase(new java.util.Locale("en","US")))){
			return false;
		}

		if(!getText(selenium,txtDOB).toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.dob.trim().toLowerCase(new java.util.Locale("en","US")))){
			return false;
		}
		if(!getText(selenium,lblStatus).toLowerCase(new java.util.Locale("en","US")).trim().contains(patientData.status.trim().toLowerCase(new java.util.Locale("en","US")))){
			return false;
		}

		return true;

	}

}
